from matplotlib import use
use('TkAgg')
import matplotlib.pyplot as plt
import numpy as np
from sklearn import linear_model

from plotData import plotData
from show import show
f = open('cricdata1.csv')
f.readline()
data = np.loadtxt(fname=f, delimiter=',')
X = data[:, 1]
y = data[:, 2]
print(X)
print(y)
m = len(y)
plt.plot(X, y)

X = [np.ones(m, 1), data[:, 1]]
regr = linear_model.LinearRegression(fit_intercept=False, normalize=True)
regr.fit(X, y)


predict1 = np.array([1, 3.5]).dot(regr.coef_)
predict2 = np.array([1, 7]).dot(regr.coef_)

plt.figure()
plotData(data)
plt.plot(X[:, 1],  X.dot(regr.coef_), '-', color='black', label='Linear regression wit scikit')
plt.legend(loc='upper right', shadow=True, fontsize='x-large', numpoints=1)
show()

